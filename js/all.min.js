$(function(){var e="",t=[],a=[],n=0;$.get("data.json").done(function(o){e=o.title,t=o.images,n=Math.ceil(t.length/6);for(var i=0;i<n;i++){a.push([]);for(var r=0;r<6;r++)t[6*i+r]&&a[i].push(t[6*i+r])}$("#title").html(e),TweenMax.from("#title",.3,{autoAlpha:0,ease:Power1.easeIn,x:-200,y:-100}),G.renderFrame(a,0,n),TweenMax.from("#pagination",.3,{autoAlpha:0,delay:2,ease:Power1.easeIn,x:200,y:100})}),$("#main").on("click",".pagination-button",function(){var e=$(this),t=e.data("current"),o=0;"pagination-next"==e[0].id?o=t:"pagination-prev"==e[0].id&&(o=t-2),G.unrenderFrame(a,o,n)}),$("#main").on("click",".gallery-item",G.expandImage),$("#main").on("click",".gallery-item .close",G.closeImage)}),G=new function(){var e=this;this.imgTemplate=function(e,t){return'<figure class="gallery-item"><button type="button" class="close">X</button><img src="'+e+'" alt="" class="gallery-item-img"><figcaption class="gallery-item-caption">'+t+"</figcaption></figure>"},this.renderFrame=function(t,a,n){var o="",i=new TimelineMax;t[a].forEach(function(t){o+=e.imgTemplate(t.src,t.caption)}),$("#gallery").html(o),i.staggerTo(".gallery-item",1,{bezier:{values:[{x:-300,y:-150,rotationY:0,rotationX:-90,scaleX:.5,scaleY:.5,opacity:0},{x:-600,y:-100,rotationY:45,rotationX:-67.5,scaleX:2,scaleY:2,opacity:.3},{x:-150,y:50,rotationY:22.5,rotationX:-45,scaleX:1.1,scaleY:1.1,opacity:.8},{x:0,y:0,rotationY:0,rotationX:0,scaleX:1,scaleY:1,opacity:1}]},ease:Power1.easeInOut},-.3),$("#counter").html(1+a+"/"+n),$("#buttons .pagination-button").data("current",a+1),a+1==n?($("#pagination-prev").prop("disabled",!1),$("#pagination-next").prop("disabled",!0)):a+1==1?($("#pagination-prev").prop("disabled",!0),$("#pagination-next").prop("disabled",!1)):$("#buttons .pagination-button").prop("disabled",!1)},this.unrenderFrame=function(t,a,n){var o=new TimelineMax({onComplete:function(){e.renderFrame(t,a,n)}});o.staggerTo(".gallery-item",.5,{bezier:{values:[{x:0,y:0,rotationY:0,rotationX:0,scaleX:1,scaleY:1,opacity:1},{x:-150,y:50,rotationY:-22.5,rotationX:45,scaleX:1.1,scaleY:.5,opacity:.8},{x:-600,y:-100,rotationY:-45,rotationX:67.5,scaleX:2,scaleY:1.1,opacity:.3},{x:-300,y:-150,rotationY:0,rotationX:90,scaleX:.5,scaleY:2,opacity:0}]},ease:Power1.easeInOut},.3)},this.expandImage=function(){var e=$(this),t=e.offset(),a=e.innerWidth(),n=e.innerHeight(),o=e.clone();e.addClass("cloned"),o.addClass("clone").css({position:"fixed",top:t.top,left:t.left,height:n,width:a}),$("#main").append(o),TweenMax.to(o,.5,{className:"+=is-expanded",top:0,left:0,bottom:0,right:0,height:"100vh",width:"100vw",ease:Bounce.easeOut})},this.closeImage=function(e){e.stopPropagation();var t=$(".cloned"),a=t.offset(),n=t.innerWidth(),o=t.innerHeight(),i=$(this).parent();TweenMax.to(i,.5,{className:"-=is-expanded",top:a.top,left:a.left,height:o,width:n,ease:Bounce.easeOut,onComplete:function(){t.removeClass("cloned"),$(".clone").remove()}})}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsInRpdGxlIiwicmF3X2RhdGEiLCJpbWFnZXMiLCJmcmFtZXMiLCJnZXQiLCJkb25lIiwiZGF0YSIsIk1hdGgiLCJjZWlsIiwibGVuZ3RoIiwiaSIsInB1c2giLCJqIiwiaHRtbCIsIlR3ZWVuTWF4IiwiZnJvbSIsImF1dG9BbHBoYSIsImVhc2UiLCJQb3dlcjEiLCJlYXNlSW4iLCJ4IiwieSIsIkciLCJyZW5kZXJGcmFtZSIsImRlbGF5Iiwib24iLCIkYnV0dG9uIiwidGhpcyIsImN1cnJlbnRfZnJhbWUiLCJuZXh0X2ZyYW1lIiwiaWQiLCJ1bnJlbmRlckZyYW1lIiwiZXhwYW5kSW1hZ2UiLCJjbG9zZUltYWdlIiwic2VsZiIsImltZ1RlbXBsYXRlIiwic3JjIiwiY2FwdGlvbiIsImZyYW1lIiwiZmlndXJlcyIsInRsIiwiVGltZWxpbmVNYXgiLCJmb3JFYWNoIiwiaXRlbSIsInN0YWdnZXJUbyIsImJlemllciIsInZhbHVlcyIsInJvdGF0aW9uWSIsInJvdGF0aW9uWCIsInNjYWxlWCIsInNjYWxlWSIsIm9wYWNpdHkiLCJlYXNlSW5PdXQiLCJwcm9wIiwib25Db21wbGV0ZSIsIiRpbWFnZSIsInBvc2l0aW9uIiwib2Zmc2V0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCIkY2xvbmUiLCJjbG9uZSIsImFkZENsYXNzIiwiY3NzIiwidG9wIiwibGVmdCIsImFwcGVuZCIsInRvIiwiY2xhc3NOYW1lIiwiYm90dG9tIiwicmlnaHQiLCJCb3VuY2UiLCJlYXNlT3V0IiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIiRvcmlnaW5hbCIsIm9yaWdpbmFsX3Bvc2l0aW9uIiwib3JpZ2luYWxfd2lkdGgiLCJvcmlnaW5hbF9oZWlnaHQiLCJwYXJlbnQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUEsV0FFQSxHQUFBQyxHQUFBLEdBQ0FDLEtBQ0FDLEtB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RUFBQSxJQUNBUSxVQUFBLGdCQUNBSixJQUFBWSxFQUFBWixJQUNBQyxLQUFBVyxFQUFBWCxLQUNBUCxPQUFBb0IsRUFDQXRCLE1BQUFxQixFQUNBOUQsS0FBQXdELE9BQUFDLFFBQ0FwQixXQUFBLFdBQ0F1QixFQUFBSyxZQUFBLFVBQ0FuRixFQUFBLFVBQUFvRiIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpe1xuXHQvLyBWYXJzIGRlY2xhcmF0aW9uXG5cdHZhciB0aXRsZSA9IFwiXCI7XG5cdHZhciByYXdfZGF0YSA9IFtdO1xuXHR2YXIgaW1hZ2VzID0gW107XG5cdHZhciBmcmFtZXMgPSAwO1xuXG5cdC8vIEdldCBkYXRhIGZyb20gSlNPTiBmaWxlLCB3aGVuIGRvbmUsIHJlbmRlciBmaXJzdCBmcmFtZVxuXHQkLmdldCgnZGF0YS5qc29uJykuZG9uZShmdW5jdGlvbihkYXRhKXtcblx0XHR0aXRsZSA9IGRhdGEudGl0bGU7XHQvLyBHZXQgdGhlIHRpdGxlIGZyb20gZmlsZVxuXHRcdHJhd19kYXRhID0gZGF0YS5pbWFnZXM7XHQvLyBHZXQgdGhlIGltYWdlcyBmcm9tIGZpbGUgYW5kIHN0b3JlIHRoZW0gaW4gYW4gYXJyYXlcblx0XHRmcmFtZXMgPSBNYXRoLmNlaWwocmF3X2RhdGEubGVuZ3RoLzYpOyAvLyBDYWxjdWxhdGUgdG90YWwgZnJhbWVzIG51bWJlclxuXG5cdFx0Ly8gU29ydCBpbWFnZXMgaW4gYSBiaWRpbW1lbnNpb25hbCBhcnJheSwgZmlyc3QgZGltbWVuc2lvbiBpcyB0aGUgZnJhbWUgbnVtYmVyLCBhbmQgc2Vjb25kIGRpbW1lbnNpb24sIHRoZSBpbWFnZS4gU2l4IGltYWdlcyBwZXIgZnJhbWUuXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGZyYW1lczsgaSsrKXtcblx0XHRcdGltYWdlcy5wdXNoKFtdKTtcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCA2OyBqKyspe1xuXHRcdFx0XHRpZihyYXdfZGF0YVs2KmkgKyBqXSl7XG5cdFx0XHRcdFx0aW1hZ2VzW2ldLnB1c2gocmF3X2RhdGFbNippICsgal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVuZGVyIGluaXRpYWwgZGF0YVxuXHRcdCQoJyN0aXRsZScpLmh0bWwodGl0bGUpO1xuXHRcdFR3ZWVuTWF4LmZyb20oJyN0aXRsZScsIC4zLCB7XG5cdFx0XHRhdXRvQWxwaGE6IDAsXG5cdFx0XHRlYXNlOiBQb3dlcjEuZWFzZUluLFxuXHRcdFx0eDogLTIwMCxcblx0XHRcdHk6IC0xMDBcblx0XHR9KTtcblx0XHRHLnJlbmRlckZyYW1lKGltYWdlcywgMCwgZnJhbWVzKTtcblx0XHRUd2Vlbk1heC5mcm9tKCcjcGFnaW5hdGlvbicsIC4zLCB7XG5cdFx0XHRhdXRvQWxwaGE6IDAsXG5cdFx0XHRkZWxheTogMixcblx0XHRcdGVhc2U6IFBvd2VyMS5lYXNlSW4sXG5cdFx0XHR4OiAyMDAsXG5cdFx0XHR5OiAxMDBcblx0XHR9KTtcblx0fSk7XG5cblx0Ly8gTmF2aWdhdGlvbiBiZXR3ZWVuIGZyYW1lcyB1c2luZyB0aGUgYnV0dG9uc1xuXHQkKCcjbWFpbicpLm9uKCdjbGljaycsICcucGFnaW5hdGlvbi1idXR0b24nLCBmdW5jdGlvbigpe1xuXHRcdHZhciAkYnV0dG9uID0gJCh0aGlzKTtcblx0XHR2YXIgY3VycmVudF9mcmFtZSA9ICRidXR0b24uZGF0YSgnY3VycmVudCcpO1xuXHRcdHZhciBuZXh0X2ZyYW1lID0gMDtcblx0XHQvLyBHZXQgYnV0dG9uIGlkLCB0byBhc2lnbiB3aGF0IGZyYW1lIGdvZXMgbmV4dFxuXHRcdGlmKCRidXR0b25bMF0uaWQgPT0gXCJwYWdpbmF0aW9uLW5leHRcIil7XG5cdFx0XHRuZXh0X2ZyYW1lID0gY3VycmVudF9mcmFtZTtcblx0XHR9XG5cdFx0ZWxzZSBpZigkYnV0dG9uWzBdLmlkID09IFwicGFnaW5hdGlvbi1wcmV2XCIpe1xuXHRcdFx0bmV4dF9mcmFtZSA9IGN1cnJlbnRfZnJhbWUgLSAyO1xuXHRcdH1cblx0XHRHLnVucmVuZGVyRnJhbWUoaW1hZ2VzLCBuZXh0X2ZyYW1lLCBmcmFtZXMpO1xuXHR9KTtcblxuXHQvLyBFeHBhbmRlZCB2aWV3IG9mIGEgcGljdHVyZVxuXHQkKCcjbWFpbicpLm9uKCdjbGljaycsICcuZ2FsbGVyeS1pdGVtJywgRy5leHBhbmRJbWFnZSk7XG5cdCQoJyNtYWluJykub24oJ2NsaWNrJywgJy5nYWxsZXJ5LWl0ZW0gLmNsb3NlJywgRy5jbG9zZUltYWdlKTtcbn0pO1xuXG4vLyBGdW5jdGlvbnMgZW5jYXBzdWxhdGlvblxuRyA9IG5ldyAoZnVuY3Rpb24oKXtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLmltZ1RlbXBsYXRlID0gZnVuY3Rpb24oc3JjLCBjYXB0aW9uKXtcblx0XHRyZXR1cm4gJzxmaWd1cmUgY2xhc3M9XCJnYWxsZXJ5LWl0ZW1cIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCI+WDwvYnV0dG9uPjxpbWcgc3JjPVwiJytzcmMrJ1wiIGFsdD1cIlwiIGNsYXNzPVwiZ2FsbGVyeS1pdGVtLWltZ1wiPjxmaWdjYXB0aW9uIGNsYXNzPVwiZ2FsbGVyeS1pdGVtLWNhcHRpb25cIj4nK2NhcHRpb24rJzwvZmlnY2FwdGlvbj48L2ZpZ3VyZT4nO1xuXHR9XG5cdHRoaXMucmVuZGVyRnJhbWUgPSBmdW5jdGlvbihpbWFnZXMsIGZyYW1lLCBmcmFtZXMpe1xuXHRcdHZhciBmaWd1cmVzID0gXCJcIjtcblx0XHR2YXIgdGwgPSBuZXcgVGltZWxpbmVNYXgoKTtcblxuXHRcdC8vIEdldCB0aGUgaW1hZ2VzIG9mIHRoZSBkZXNpcmVkIGZyYW1lLCBhbmQgcGxhY2UgdGhlbSBpbnRvIGltYWdlIHRlbXBsYXRlXG5cdFx0aW1hZ2VzW2ZyYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuXHRcdFx0ZmlndXJlcyArPSBzZWxmLmltZ1RlbXBsYXRlKGl0ZW0uc3JjLCBpdGVtLmNhcHRpb24pO1xuXHRcdH0pO1xuXHRcdC8vIFBsYWNlIHRoZSBpbWFnZXMgaW50byB0aGUgZ2FsbGVyeVxuXHRcdCQoJyNnYWxsZXJ5JykuaHRtbChmaWd1cmVzKTtcblx0XHQvLyBTdGFnZ2VyZWQgYW5pbWF0aW9uIG9mIHRoZSBwaWN0dXJlcyB1c2luZyBhIGJlemllciBwYXRoXG5cdFx0dGwuc3RhZ2dlclRvKCcuZ2FsbGVyeS1pdGVtJywgMSwge1xuXHRcdFx0YmV6aWVyOiB7IFxuXHRcdFx0XHR2YWx1ZXM6IFtcblx0XHRcdFx0XHR7eDogLTMwMCwgeTogLTE1MCwgcm90YXRpb25ZOiAwLCByb3RhdGlvblg6IC05MCwgc2NhbGVYOiAwLjUsIHNjYWxlWTogMC41LCBvcGFjaXR5OiAwfSxcblx0XHRcdFx0XHR7eDogLTYwMCwgeTogLTEwMCwgcm90YXRpb25ZOiA0NSwgcm90YXRpb25YOiAtNjcuNSwgc2NhbGVYOiAyLCBzY2FsZVk6IDIsIG9wYWNpdHk6IDAuM30sXG5cdFx0XHRcdFx0e3g6IC0xNTAsIHk6IDUwLCByb3RhdGlvblk6IDIyLjUsIHJvdGF0aW9uWDogLTQ1LCBzY2FsZVg6IDEuMSwgc2NhbGVZOiAxLjEsIG9wYWNpdHk6IDAuOH0sXG5cdFx0XHRcdFx0e3g6IDAsIHk6IDAsIHJvdGF0aW9uWTogMCwgcm90YXRpb25YOiAwLCBzY2FsZVg6IDEsIHNjYWxlWTogMSwgb3BhY2l0eTogMX0sXG5cdFx0XHRcdF1cblx0XHRcdH0sXG5cdFx0XHRlYXNlOlBvd2VyMS5lYXNlSW5PdXRcblx0XHR9LCAtMC4zKTtcblx0XHQvLyBVcGRhdGUgdGhlIHBhZ2luYXRpb24gY291bnRlclxuXHRcdCQoJyNjb3VudGVyJykuaHRtbCgoMStmcmFtZSkrXCIvXCIgKyBmcmFtZXMpO1xuXHRcdC8vIFVwZGF0ZSB0aGUgY3VycmVudCBmcmFtZSBkYXRhIGluIGJ1dHRvbnNcblx0XHQkKCcjYnV0dG9ucyAucGFnaW5hdGlvbi1idXR0b24nKS5kYXRhKCdjdXJyZW50JywgZnJhbWUgKyAxKTtcblx0XHQvLyBEaXNhYmxlIG9yIGVuYWJlIGJ1dHRvbnMgYWNjb3JkaW5nIHRvIHBhZ2luYXRpb24gZWRnZXNcblx0XHRpZihmcmFtZSArIDEgPT0gZnJhbWVzKXtcblx0XHRcdCQoJyNwYWdpbmF0aW9uLXByZXYnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdCQoJyNwYWdpbmF0aW9uLW5leHQnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmKGZyYW1lICsgMSA9PSAxKXtcblx0XHRcdCQoJyNwYWdpbmF0aW9uLXByZXYnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0JCgnI3BhZ2luYXRpb24tbmV4dCcpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdH1cblx0XHRlbHNle1xuXHRcdFx0JCgnI2J1dHRvbnMgLnBhZ2luYXRpb24tYnV0dG9uJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cdHRoaXMudW5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uKGltYWdlcywgZnJhbWUsIGZyYW1lcyl7XG5cdFx0dmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KHtcblx0XHRcdC8vIFdoZW4gY29tcGxldGUsIHJlbmRlciBuZXh0IGZyYW1lXG5cdFx0XHRvbkNvbXBsZXRlOiBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLnJlbmRlckZyYW1lKGltYWdlcywgZnJhbWUsIGZyYW1lcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gVGFraW5nIG91dCB0aGUgcGljdHVyZXMgb2YgdGhlIGN1cnJlbnQgZnJhbWVcblx0XHR0bC5zdGFnZ2VyVG8oJy5nYWxsZXJ5LWl0ZW0nLCAuNSwge1xuXHRcdFx0YmV6aWVyOiB7XG5cdFx0XHRcdHZhbHVlczogW1xuXHRcdFx0XHRcdHt4OiAwLCB5OiAwLCByb3RhdGlvblk6IDAsIHJvdGF0aW9uWDogMCwgc2NhbGVYOiAxLCBzY2FsZVk6IDEsIG9wYWNpdHk6IDF9LFxuXHRcdFx0XHRcdHt4OiAtMTUwLCB5OiA1MCwgcm90YXRpb25ZOiAtMjIuNSwgcm90YXRpb25YOiA0NSwgc2NhbGVYOiAxLjEsIHNjYWxlWTogMC41LCBvcGFjaXR5OiAwLjh9LFxuXHRcdFx0XHRcdHt4OiAtNjAwLCB5OiAtMTAwLCByb3RhdGlvblk6IC00NSwgcm90YXRpb25YOiA2Ny41LCBzY2FsZVg6IDIsIHNjYWxlWTogMS4xLCBvcGFjaXR5OiAwLjN9LFxuXHRcdFx0XHRcdHt4OiAtMzAwLCB5OiAtMTUwLCByb3RhdGlvblk6IDAsIHJvdGF0aW9uWDogOTAsIHNjYWxlWDogMC41LCBzY2FsZVk6IDIsIG9wYWNpdHk6IDB9XG5cdFx0XHRcdF1cblx0XHRcdH0sXG5cdFx0XHRlYXNlOlBvd2VyMS5lYXNlSW5PdXRcblx0XHR9LCAuMyk7XG5cdH1cblx0dGhpcy5leHBhbmRJbWFnZSA9IGZ1bmN0aW9uKCl7XG5cdFx0dmFyICRpbWFnZSA9ICQodGhpcyk7XHQvLyBHZXQgb3JpZ2luYWwgaW1hZ2Vcblx0XHR2YXIgcG9zaXRpb24gPSAkaW1hZ2Uub2Zmc2V0KCk7XHQvLyBHZXQgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBzZWxlY3RlZCBpbWFnZVxuXHRcdHZhciB3aWR0aCA9ICRpbWFnZS5pbm5lcldpZHRoKCk7IC8vIEdldCBhY3R1YWwgc2l6ZSwgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgc2VsZWN0ZWQgaW1hZ2Vcblx0XHR2YXIgaGVpZ2h0ID0gJGltYWdlLmlubmVySGVpZ2h0KCk7XG5cdFx0dmFyICRjbG9uZSA9ICRpbWFnZS5jbG9uZSgpO1x0Ly8gQ2xvbmUgdGhlIHNlbGVjdGVkIGltYWdlLCBzbyBpdCB3b24ndCBjaGFuZ2UgbGF5b3V0IHdoZW4gYW5pbWF0aW5nICdpdCdcblx0XHQkaW1hZ2UuYWRkQ2xhc3MoJ2Nsb25lZCcpO1xuXHRcdC8vIFBvc2l0aW9uaW5nIHRoZSBjbG9uZWQgaW1hZ2Ugb3ZlciB0aGUgb3JpZ2luYWwgb25lXG5cdFx0JGNsb25lLmFkZENsYXNzKCdjbG9uZScpLmNzcyh7XG5cdFx0XHRwb3NpdGlvbjogJ2ZpeGVkJyxcblx0XHRcdHRvcDogcG9zaXRpb24udG9wLFxuXHRcdFx0bGVmdDogcG9zaXRpb24ubGVmdCxcblx0XHRcdGhlaWdodDogaGVpZ2h0LFxuXHRcdFx0d2lkdGg6IHdpZHRoXG5cdFx0fSk7XG5cdFx0JCgnI21haW4nKS5hcHBlbmQoJGNsb25lKTtcdC8vIFBsYWNpbmcgdGhlIGNsb25lZCBpbWFnZSBpbiB0aGUgZXhhY3QgYWJzb2x1dGUgcG9zaXRpb24gb3ZlciB0aGUgb3JpZ2luYWwgb25lXG5cdFx0Ly8gQW5pbWF0aW5nIHRoZSBjbG9uZWQgaW1hZ2UgdG8gZXhwYW5kZWQgc3RhdGVcblx0XHRUd2Vlbk1heC50bygkY2xvbmUsIC41LCB7XG5cdFx0XHRjbGFzc05hbWU6ICcrPWlzLWV4cGFuZGVkJyxcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRib3R0b206IDAsXG5cdFx0XHRyaWdodDogMCxcblx0XHRcdGhlaWdodDogXCIxMDB2aFwiLFxuXHRcdFx0d2lkdGg6IFwiMTAwdndcIixcblx0XHRcdGVhc2U6IEJvdW5jZS5lYXNlT3V0XG5cdFx0fSk7XG5cdH1cblx0dGhpcy5jbG9zZUltYWdlID0gZnVuY3Rpb24oZSl7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcdC8vIFByZXZlbnQgZXhwYW5kSW1hZ2UgZnVuY3Rpb24gZnJvbSBiZWluZyBjYWxsZWRcblx0XHR2YXIgJG9yaWdpbmFsID0gJCgnLmNsb25lZCcpO1x0Ly8gR2V0IG9yaWdpbmFsIGltYWdlXG5cdFx0dmFyIG9yaWdpbmFsX3Bvc2l0aW9uID0gJG9yaWdpbmFsLm9mZnNldCgpO1x0Ly9HZXQgb3JpZ2luYWwgcG9zaXRpb24gYW5kIHNpemVcblx0XHR2YXIgb3JpZ2luYWxfd2lkdGggPSAkb3JpZ2luYWwuaW5uZXJXaWR0aCgpO1xuXHRcdHZhciBvcmlnaW5hbF9oZWlnaHQgPSAkb3JpZ2luYWwuaW5uZXJIZWlnaHQoKTtcblx0XHR2YXIgJGNsb25lID0gJCh0aGlzKS5wYXJlbnQoKTtcdC8vIEdldCB0aGUgY2xvbmVkIGltYWdlXG5cdFx0Ly8gQW5pbWF0aW5nIHRoZSBjbG9uZWQgZXhwYW5kZWQgaW1hZ2UgdG8gYSBub24gZXhwYW5kZWQgc3RhdGUsIGFuZCByZW1vdmluZyBpdCBmcm9tIERPTSB3aGVuIGNvbXBsZXRlXG5cdFx0VHdlZW5NYXgudG8oJGNsb25lLCAuNSwge1xuXHRcdFx0Y2xhc3NOYW1lOiAnLT1pcy1leHBhbmRlZCcsXG5cdFx0XHR0b3A6IG9yaWdpbmFsX3Bvc2l0aW9uLnRvcCxcblx0XHRcdGxlZnQ6IG9yaWdpbmFsX3Bvc2l0aW9uLmxlZnQsXG5cdFx0XHRoZWlnaHQ6IG9yaWdpbmFsX2hlaWdodCxcblx0XHRcdHdpZHRoOiBvcmlnaW5hbF93aWR0aCxcblx0XHRcdGVhc2U6IEJvdW5jZS5lYXNlT3V0LFxuXHRcdFx0b25Db21wbGV0ZTogZnVuY3Rpb24oKXtcblx0XHRcdFx0JG9yaWdpbmFsLnJlbW92ZUNsYXNzKCdjbG9uZWQnKTtcblx0XHRcdFx0JCgnLmNsb25lJykucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
